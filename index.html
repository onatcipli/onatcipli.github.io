<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Portfolio - Senior Mobile Developer specializing in Flutter, iOS, and Android development">
    <title>Portfolio</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        :root {
            --text-primary: #1a1a1a;
            --text-secondary: #666;
            --text-muted: #999;
            --bg-primary: #ffffff;
            --bg-secondary: #f8f9fa;
            --border: #eaeaea;
            --accent: #0066cc;
            --accent-hover: #0052a3;
        }

        [data-theme="dark"] {
            --text-primary: #f4f4f5;
            --text-secondary: #a1a1aa;
            --text-muted: #71717a;
            --bg-primary: #18181b;
            --bg-secondary: #27272a;
            --border: #3f3f46;
            --accent: #60a5fa;
            --accent-hover: #93c5fd;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: var(--text-primary);
            background: var(--bg-primary);
            transition: background-color 0.3s, color 0.3s;
        }

        .container { max-width: 800px; margin: 0 auto; padding: 0 24px; }

        .top-bar {
            position: fixed; top: 0; left: 0; right: 0;
            background: var(--bg-primary);
            border-bottom: 1px solid var(--border);
            padding: 12px 24px;
            display: flex; justify-content: flex-end; gap: 16px;
            z-index: 100;
            transition: background-color 0.3s, border-color 0.3s;
        }

        .control-btn {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 8px 16px;
            cursor: pointer;
            font-size: 0.9rem;
            color: var(--text-secondary);
            display: flex; align-items: center; gap: 8px;
            transition: all 0.2s;
        }

        .control-btn:hover { border-color: var(--accent); color: var(--accent); }
        .control-btn svg { width: 18px; height: 18px; }

        header { padding: 100px 0 60px; border-bottom: 1px solid var(--border); }
        .header-content { display: flex; align-items: flex-start; gap: 32px; }

        .avatar {
            width: 120px; height: 120px;
            border-radius: 50%;
            object-fit: cover;
            flex-shrink: 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .header-text h1 { font-size: 2.5rem; font-weight: 700; margin-bottom: 8px; letter-spacing: -0.02em; }
        .header-text .title { font-size: 1.25rem; color: var(--text-secondary); margin-bottom: 16px; }
        .header-text .bio { color: var(--text-secondary); max-width: 500px; margin-bottom: 20px; }

        .social-links { display: flex; gap: 16px; flex-wrap: wrap; }
        .social-links a {
            color: var(--text-secondary);
            text-decoration: none;
            font-size: 0.9rem;
            display: flex; align-items: center; gap: 6px;
            transition: color 0.2s;
        }
        .social-links a:hover { color: var(--accent); }
        .social-links svg { width: 18px; height: 18px; }

        section { padding: 60px 0; border-bottom: 1px solid var(--border); }
        section:last-child { border-bottom: none; }
        section h2 { font-size: 1.5rem; font-weight: 600; margin-bottom: 32px; letter-spacing: -0.01em; }

        .skills { display: flex; flex-wrap: wrap; gap: 10px; margin-top: 24px; }
        .skill-tag {
            background: var(--bg-secondary);
            padding: 8px 16px;
            border-radius: 6px;
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .experience-item { margin-bottom: 40px; }
        .experience-item:last-child { margin-bottom: 0; }
        .experience-header {
            display: flex; justify-content: space-between; align-items: flex-start;
            margin-bottom: 8px; flex-wrap: wrap; gap: 8px;
        }
        .experience-header h3 { font-size: 1.1rem; font-weight: 600; }
        .experience-header .company { color: var(--accent); text-decoration: none; }
        .experience-header .company:hover { text-decoration: underline; }
        .experience-header .date { color: var(--text-muted); font-size: 0.9rem; }
        .experience-description { color: var(--text-secondary); }
        .experience-description ul { margin-top: 12px; padding-left: 20px; }
        .experience-description li { margin-bottom: 6px; }

        .projects-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 24px; }
        .project-card {
            border: 1px solid var(--border);
            border-radius: 12px;
            overflow: hidden;
            transition: box-shadow 0.2s, transform 0.2s;
            background: var(--bg-primary);
        }
        .project-card:hover { box-shadow: 0 8px 30px rgba(0, 0, 0, 0.12); transform: translateY(-2px); }
        .project-image { width: 100%; height: 180px; object-fit: cover; background: var(--bg-secondary); }
        .project-content { padding: 20px; }
        .project-content h3 { font-size: 1.1rem; font-weight: 600; margin-bottom: 8px; }
        .project-content p { color: var(--text-secondary); font-size: 0.95rem; margin-bottom: 16px; }
        .project-tags { display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 16px; }
        .project-tag { background: var(--bg-secondary); padding: 4px 10px; border-radius: 4px; font-size: 0.8rem; color: var(--text-muted); }
        .project-links { display: flex; gap: 12px; flex-wrap: wrap; }
        .project-links a { color: var(--accent); text-decoration: none; font-size: 0.9rem; }
        .project-links a:hover { text-decoration: underline; }

        .repo-list { display: flex; flex-direction: column; gap: 16px; }
        .repo-card {
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 20px;
            transition: border-color 0.2s;
            background: var(--bg-primary);
        }
        .repo-card:hover { border-color: var(--accent); }
        .repo-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 8px; }
        .repo-header h3 { font-size: 1rem; font-weight: 600; }
        .repo-header h3 a { color: var(--accent); text-decoration: none; }
        .repo-header h3 a:hover { text-decoration: underline; }
        .repo-stats { display: flex; gap: 12px; color: var(--text-muted); font-size: 0.85rem; }
        .repo-stats span { display: flex; align-items: center; gap: 4px; }
        .repo-description { color: var(--text-secondary); font-size: 0.95rem; }
        .repo-language { display: inline-flex; align-items: center; gap: 6px; margin-top: 12px; font-size: 0.85rem; color: var(--text-muted); }
        .lang-dot { width: 12px; height: 12px; border-radius: 50%; }

        footer { padding: 40px 0; text-align: center; color: var(--text-muted); font-size: 0.9rem; }

        .loading { text-align: center; padding: 100px 20px; color: var(--text-muted); }

        @media (max-width: 600px) {
            header { padding: 80px 0 40px; }
            .header-content { flex-direction: column; align-items: center; text-align: center; }
            .header-text .bio { margin-left: auto; margin-right: auto; }
            .social-links { justify-content: center; }
            section { padding: 40px 0; }
            .experience-header { flex-direction: column; }
            .projects-grid { grid-template-columns: 1fr; }
            .top-bar { padding: 8px 16px; }
            .control-btn { padding: 6px 12px; font-size: 0.85rem; }
        }
    </style>
</head>
<body>
    <div class="top-bar">
        <button class="control-btn" id="langToggle" onclick="toggleLanguage()">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="10"/>
                <path d="M2 12h20M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/>
            </svg>
            <span id="langLabel">TR</span>
        </button>
        <button class="control-btn" onclick="toggleTheme()">
            <svg id="sunIcon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="5"/>
                <path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/>
            </svg>
            <svg id="moonIcon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display:none;">
                <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
            </svg>
        </button>
    </div>

    <div class="container" id="app">
        <div class="loading">Loading...</div>
    </div>

    <script>
        // Language colors for programming languages
        const langColors = {
            'Dart': '#00B4AB', 'Swift': '#F05138', 'Kotlin': '#A97BFF',
            'TypeScript': '#3178C6', 'JavaScript': '#F7DF1E', 'Python': '#3572A5',
            'Go': '#00ADD8', 'Rust': '#DEA584', 'Java': '#B07219', 'C++': '#F34B7D'
        };

        // SVG Icons
        const icons = {
            github: '<svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"/></svg>',
            linkedin: '<svg viewBox="0 0 24 24" fill="currentColor"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a2.062 2.062 0 01-2.063-2.065 2.064 2.064 0 112.063 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg>',
            email: '<svg viewBox="0 0 24 24" fill="currentColor"><path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/></svg>',
            twitter: '<svg viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>',
            website: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M2 12h20M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></svg>',
            star: '<svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor"><path d="M8 .25a.75.75 0 01.673.418l1.882 3.815 4.21.612a.75.75 0 01.416 1.279l-3.046 2.97.719 4.192a.75.75 0 01-1.088.791L8 12.347l-3.766 1.98a.75.75 0 01-1.088-.79l.72-4.194L.818 6.374a.75.75 0 01.416-1.28l4.21-.611L7.327.668A.75.75 0 018 .25z"/></svg>',
            fork: '<svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor"><path d="M5 5.372v.878c0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75v-.878a2.25 2.25 0 111.5 0v.878a2.25 2.25 0 01-2.25 2.25h-1.5v2.128a2.251 2.251 0 11-1.5 0V8.5h-1.5A2.25 2.25 0 013 6.25v-.878a2.25 2.25 0 111.5 0zM5 3.25a.75.75 0 10-1.5 0 .75.75 0 001.5 0zm6.75.75a.75.75 0 100-1.5.75.75 0 000 1.5zm-3 8.75a.75.75 0 10-1.5 0 .75.75 0 001.5 0z"/></svg>'
        };

        let content = null;
        let currentLang = localStorage.getItem('lang') || 'en';
        let currentTheme = localStorage.getItem('theme') || 'light';

        // Get localized text
        function t(obj, fallback = '') {
            if (!obj) return fallback;
            if (typeof obj === 'string') return obj;
            return obj[currentLang] || obj['en'] || fallback;
        }

        // Render the entire page
        function render() {
            if (!content) return;

            const { meta, skills, experience, projects, opensource } = content;
            const lang = content[currentLang] || content['en'];

            document.title = `${meta.name} - ${lang.title}`;

            const app = document.getElementById('app');
            app.innerHTML = `
                <header>
                    <div class="header-content">
                        <img src="${meta.avatarUrl}" alt="${meta.name}" class="avatar" onerror="this.style.background='linear-gradient(135deg, #667eea 0%, #764ba2 100%)'">
                        <div class="header-text">
                            <h1>${meta.name}</h1>
                            <p class="title">${lang.title}</p>
                            <p class="bio">${lang.bio}</p>
                            <div class="social-links">
                                ${meta.github ? `<a href="${meta.github}" target="_blank">${icons.github} GitHub</a>` : ''}
                                ${meta.linkedin ? `<a href="${meta.linkedin}" target="_blank">${icons.linkedin} LinkedIn</a>` : ''}
                                ${meta.twitter ? `<a href="${meta.twitter}" target="_blank">${icons.twitter} Twitter</a>` : ''}
                                ${meta.email ? `<a href="mailto:${meta.email}">${icons.email} Email</a>` : ''}
                                ${meta.website ? `<a href="${meta.website}" target="_blank">${icons.website} Website</a>` : ''}
                            </div>
                        </div>
                    </div>
                </header>

                <section id="about">
                    <h2>${lang.skillsTitle}</h2>
                    <p style="color: var(--text-secondary); margin-bottom: 8px;">${lang.skillsDesc}</p>
                    <div class="skills">
                        ${skills.map(skill => `<span class="skill-tag">${t(skill, skill)}</span>`).join('')}
                    </div>
                </section>

                <section id="experience">
                    <h2>${lang.experienceTitle}</h2>
                    ${experience.map(exp => `
                        <div class="experience-item">
                            <div class="experience-header">
                                <h3>${t(exp.role)} @ ${exp.companyUrl ? `<a href="${exp.companyUrl}" target="_blank" class="company">${exp.company}</a>` : `<span class="company">${exp.company}</span>`}</h3>
                                <span class="date">${exp.date}</span>
                            </div>
                            <div class="experience-description">
                                <p>${t(exp.description)}</p>
                                ${exp.tasks && t(exp.tasks).length ? `
                                    <ul>
                                        ${t(exp.tasks).map(task => `<li>${task}</li>`).join('')}
                                    </ul>
                                ` : ''}
                            </div>
                        </div>
                    `).join('')}
                </section>

                <section id="projects">
                    <h2>${lang.projectsTitle}</h2>
                    <div class="projects-grid">
                        ${projects.map(proj => `
                            <div class="project-card">
                                <img src="${proj.image}" alt="${t(proj.name)}" class="project-image" onerror="this.style.background='${proj.gradient || 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)'}'">
                                <div class="project-content">
                                    <h3>${t(proj.name)}</h3>
                                    <p>${t(proj.description)}</p>
                                    <div class="project-tags">
                                        ${proj.tags.map(tag => `<span class="project-tag">${tag}</span>`).join('')}
                                    </div>
                                    <div class="project-links">
                                        ${proj.links.appStore ? `<a href="${proj.links.appStore}" target="_blank">App Store</a>` : ''}
                                        ${proj.links.playStore ? `<a href="${proj.links.playStore}" target="_blank">Play Store</a>` : ''}
                                        ${proj.links.github ? `<a href="${proj.links.github}" target="_blank">GitHub</a>` : ''}
                                        ${proj.links.website ? `<a href="${proj.links.website}" target="_blank">Website</a>` : ''}
                                    </div>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </section>

                <section id="opensource">
                    <h2>${lang.opensourceTitle}</h2>
                    <div class="repo-list">
                        ${opensource.map(repo => `
                            <div class="repo-card">
                                <div class="repo-header">
                                    <h3><a href="${repo.url}" target="_blank">${repo.name}</a></h3>
                                    <div class="repo-stats">
                                        <span>${icons.star} ${repo.stars || 0}</span>
                                        <span>${icons.fork} ${repo.forks || 0}</span>
                                    </div>
                                </div>
                                <p class="repo-description">${t(repo.description)}</p>
                                <span class="repo-language">
                                    <span class="lang-dot" style="background: ${langColors[repo.language] || '#666'}"></span>
                                    ${repo.language}
                                </span>
                            </div>
                        `).join('')}
                    </div>
                </section>

                <footer>
                    <p>&copy; ${new Date().getFullYear()} ${meta.name}. ${lang.footer}</p>
                </footer>
            `;
        }

        function toggleTheme() {
            currentTheme = currentTheme === 'light' ? 'dark' : 'light';
            setTheme(currentTheme);
            localStorage.setItem('theme', currentTheme);
        }

        function setTheme(theme) {
            document.documentElement.setAttribute('data-theme', theme);
            document.getElementById('sunIcon').style.display = theme === 'dark' ? 'none' : 'block';
            document.getElementById('moonIcon').style.display = theme === 'dark' ? 'block' : 'none';
        }

        function toggleLanguage() {
            currentLang = currentLang === 'en' ? 'tr' : 'en';
            localStorage.setItem('lang', currentLang);
            document.getElementById('langLabel').textContent = currentLang === 'en' ? 'TR' : 'EN';
            document.documentElement.setAttribute('lang', currentLang);
            render();
        }

        // Initialize
        async function init() {
            setTheme(currentTheme);
            document.getElementById('langLabel').textContent = currentLang === 'en' ? 'TR' : 'EN';

            try {
                const response = await fetch('content.json');
                content = await response.json();
                render();
            } catch (error) {
                console.error('Failed to load content:', error);
                document.getElementById('app').innerHTML = '<div class="loading">Failed to load content. Please check content.json</div>';
            }
        }

        init();
    </script>
</body>
</html>
